"use strict";(self.webpackChunkremark_pdf=self.webpackChunkremark_pdf||[]).push([[604],{"./stories/playground.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MarkdownToPdf:()=>MarkdownToPdf,__namedExportsOrder:()=>__namedExportsOrder,default:()=>playground_stories});var react=__webpack_require__("./node_modules/react/index.js"),lib=__webpack_require__("./node_modules/unified/lib/index.js"),remark_parse=__webpack_require__("./node_modules/remark-parse/index.js"),remark_gfm=__webpack_require__("./node_modules/remark-gfm/index.js"),remark_frontmatter=__webpack_require__("./node_modules/remark-frontmatter/index.js"),error=function(message){throw new Error(message)},isBrowser=function(){try{return"undefined"!=typeof window}catch(e){return!1}};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _object_spread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_define_property(target,key,source[key])}))}return target}function _object_spread_props(target,source){return source=null!=source?source:{},Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})),target}function _to_consumable_array(arr){return function _array_without_holes(arr){if(Array.isArray(arr))return _array_like_to_array(arr)}(arr)||function _iterable_to_array(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupported_iterable_to_array(o,minLen){if(!o)return;if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}(arr)||function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var HEADING_1="head1",HEADING_2="head2",HEADING_3="head3",HEADING_4="head4",HEADING_5="head5",HEADING_6="head6";function convertNodes(nodes,ctx){var results=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=nodes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var node=_step.value;switch(node.type){case"paragraph":results.push(buildParagraph(node,ctx));break;case"heading":results.push(buildHeading(node,ctx));break;case"thematicBreak":results.push(buildThematicBreak(node,ctx));break;case"blockquote":results.push(buildBlockquote(node,ctx));break;case"list":results.push(buildList(node,ctx));break;case"listItem":case"tableRow":case"tableCell":error("unreachable");break;case"table":results.push(buildTable(node,ctx));break;case"html":results.push(buildHtml(node,ctx));break;case"code":results.push(buildCode(node,ctx));break;case"yaml":case"toml":case"definition":case"footnoteDefinition":case"linkReference":case"imageReference":case"footnoteReference":break;case"text":case"inlineCode":results.push(buildText(node.value,ctx));break;case"emphasis":case"strong":case"delete":var _results,type=node.type,children=node.children;(_results=results).push.apply(_results,_to_consumable_array(convertNodes(children,_object_spread_props(_object_spread({},ctx),{deco:_object_spread_props(_object_spread({},ctx.deco),_define_property({},type,!0))}))));break;case"break":results.push(buildBreak(node,ctx));break;case"link":var _results1;(_results1=results).push.apply(_results1,_to_consumable_array(buildLink(node,ctx)));break;case"image":results.push(buildImage(node,ctx.images));break;case"footnote":var _results2;(_results2=results).push.apply(_results2,_to_consumable_array(buildFootnote(node,ctx)));break;case"math":results.push(buildMath(node,ctx));break;case"inlineMath":results.push(buildInlineMath(node,ctx));break;default:}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return results}function buildParagraph(param,ctx){param.type;return{text:convertNodes(param.children,ctx)}}function buildHeading(param,ctx){param.type;var heading,children=param.children;switch(param.depth){case 1:heading=HEADING_1;break;case 2:heading=HEADING_2;break;case 3:heading=HEADING_3;break;case 4:heading=HEADING_4;break;case 5:heading=HEADING_5;break;case 6:heading=HEADING_6}return{text:convertNodes(children,ctx),style:heading}}function buildThematicBreak(param,ctx){param.type;return{margin:[0,12,0,0],canvas:[{type:"line",x1:0,y1:0,x2:514,y2:0}]}}function buildBlockquote(param,ctx){param.type;return{text:convertNodes(param.children,ctx)}}function buildList(param,ctx){param.type;var children=param.children,ordered=param.ordered;param.start,param.spread;return ordered?{ol:children.map((function(l){return buildListItem(l,ctx)}))}:{ul:children.map((function(l){return buildListItem(l,ctx)}))}}function buildListItem(param,ctx){param.type;var children=param.children;param.checked,param.spread;return convertNodes(children,ctx)}function buildTable(param,ctx){param.type;var children=param.children,align=param.align,cellAligns=null==align?void 0:align.map((function(a){switch(a){case"left":default:return"left";case"right":return"right";case"center":return"center"}}));return{table:{body:children.map((function(r){return function buildTableRow(param,ctx,cellAligns){param.type;var children=param.children;return children.map((function(c,i){return function buildTableCell(param,ctx,align){param.type;var children=param.children;return convertNodes(children,_object_spread_props(_object_spread({},ctx),{deco:_object_spread_props(_object_spread({},ctx.deco),{align})}))}(c,ctx,null==cellAligns?void 0:cellAligns[i])}))}(r,ctx,cellAligns)}))}}}function buildHtml(param,ctx){param.type;return{text:buildText(param.value,ctx)}}function buildCode(param,ctx){param.type;var value=param.value;param.lang,param.meta;return{text:buildText(value,ctx)}}function buildMath(param,ctx){param.type;return{text:buildText(param.value,ctx)}}function buildInlineMath(param,ctx){param.type;return buildText(param.value,ctx)}function buildText(text,ctx){var content={text};return ctx.deco.strong&&((content.style||(content.style={})).bold=ctx.deco.strong),ctx.deco.emphasis&&((content.style||(content.style={})).italics=ctx.deco.emphasis),ctx.deco.delete&&(content.decoration="lineThrough"),null!=ctx.deco.link&&(content.link=ctx.deco.link,content.color="blue"),null!=ctx.deco.align&&((content.style||(content.style={})).alignment=ctx.deco.align),content}function buildBreak(param,ctx){param.type;return buildText("",ctx)}function buildLink(param,ctx){param.type;var children=param.children,url=param.url;param.title;return convertNodes(children,_object_spread_props(_object_spread({},ctx),{deco:_object_spread_props(_object_spread({},ctx.deco),{link:url})}))}function buildImage(param,images){param.type;var url=param.url;param.title,param.alt;return{image:url}}function buildFootnote(param,ctx){param.type;return convertNodes(param.children,ctx)}var pdfmake=__webpack_require__("./node_modules/pdfmake/build/pdfmake.js"),vfs_fonts=__webpack_require__("./node_modules/pdfmake/build/vfs_fonts.js");pdfmake.vfs=vfs_fonts.b.vfs;const src_plugin=function plugin(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},images={};this.Compiler=function(node){return function mdastToPdf(node,param,images,build){var _obj;return param.output,build({info:param.info,pageMargins:param.pageMargins,pageOrientation:param.pageOrientation,pageSize:param.pageSize,userPassword:param.userPassword,ownerPassword:param.ownerPassword,permissions:param.permissions,version:param.version,watermark:param.watermark,content:convertNodes(node.children,{deco:{},images}),images,defaultStyle:{font:isBrowser()?"Roboto":"Helvetica"},styles:(_obj={},_define_property(_obj,HEADING_1,{fontSize:24}),_define_property(_obj,HEADING_2,{fontSize:22}),_define_property(_obj,HEADING_3,{fontSize:20}),_define_property(_obj,HEADING_4,{fontSize:18}),_define_property(_obj,HEADING_5,{fontSize:16}),_define_property(_obj,HEADING_6,{fontSize:14}),_obj)})}(node,opts,images,(function(def){var _opts_output,pdf=pdfmake.createPdf(def);switch(null!==(_opts_output=opts.output)&&void 0!==_opts_output?_opts_output:"buffer"){case"buffer":return new Promise((function(resolve){pdf.getBuffer(resolve)}));case"blob":return new Promise((function(resolve){pdf.getBlob(resolve)}))}}))}};var style={flex:1,padding:10,overflowY:"scroll"},textAreaStyle={width:"100%",height:"100%"};const text_editor=(0,react.forwardRef)((function(param,ref){var initialValue=param.initialValue;return react.createElement("div",{style},react.createElement("textarea",{ref,style:textAreaStyle,defaultValue:initialValue}))}));var FileSaver_min=__webpack_require__("./node_modules/file-saver/dist/FileSaver.min.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _ts_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}_ref=_async_to_generator((function(url){var image,buf;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return image=new Image,[4,fetch(url)];case 1:return[4,_state.sent().arrayBuffer()];case 2:return buf=_state.sent(),[2,new Promise((function(resolve,reject){image.onload=function(){resolve({image:buf,width:image.naturalWidth,height:image.naturalHeight})},image.onerror=reject,image.src=URL.createObjectURL(new Blob([buf],{type:"image/png"}))}))]}}))}));var _ref,toPdfProcessor=(0,lib.l)().use(remark_parse.A).use(remark_gfm.A).use(remark_frontmatter.A).use(src_plugin,{output:"blob"}),toPdf=function(){var _ref=_async_to_generator((function(s){return _ts_generator(this,(function(_state){switch(_state.label){case 0:return[4,toPdfProcessor.process(s)];case 1:return[2,_state.sent().result]}}))}));return function toPdf(s){return _ref.apply(this,arguments)}}();const playground_stories={title:"Playground"};var Wrapper=function(param){var children=param.children;return react.createElement("div",{style:(0,react.useMemo)((function(){return{width:"100vw",height:"100vh",display:"flex",flexDirection:"row",fontSize:"10.5pt"}}),[])},children)},MarkdownToPdf=function(){var ref=(0,react.useRef)(null);return react.createElement(react.Fragment,null,react.createElement("div",{style:{padding:10}},react.createElement("button",{style:{height:"100%"},onClick:_async_to_generator((function(){var blob;return _ts_generator(this,(function(_state){switch(_state.label){case 0:return ref.current?[4,toPdf(ref.current.value)]:[2];case 1:return blob=_state.sent(),(0,FileSaver_min.saveAs)(blob,"example.pdf"),[2]}}))}))},"convert to pdf")),react.createElement(Wrapper,null,react.createElement(text_editor,{ref,initialValue:'---\ntitle: "This is frontmatter"\ndate: 2020-04-30 12:34\ncategories: [JavaScript, React]\n---\n\n# heading 1\n\n## heading 2\n\n### heading 3\n\n#### heading 4\n\n##### heading 5\n\n###### heading 6\n\naaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n\naaaaaaaa**bold**_emphasis_~~delete~~`inline code`\n\n- list\n\n  - list\n    - list\n  - list\n  - list\n\n- [ ] not checked\n- [x] checked\n\n1. ordered list\n1. ordered list\n1. ordered list\n   1. aaa\n   1. aaa\n      1. eeeee\n      1. eeeee\n   1. aaa\n1. ordered list\n\nThis is [link to GitHub.com](https://github.com/).\n\nThis is ![image](https://github.githubassets.com/images/modules/logos_page/Octocat.png).\n\n> quote\n> quote\n> quote\n> quote\n\n> quote\n>\n> > quoted quote\n\n| Left align | Right align | Center align |\n| :--------- | ----------: | :----------: |\n| This       |        This |     This     |\n| column     |      column |    column    |\n| will       |        will |     will     |\n| be         |          be |      be      |\n| left       |       right |    center    |\n| aligned    |     aligned |   aligned    |\n\n<div style="color:red;">\nThis is <u>HTML</u>\n</div>\n\n---\n\n---\n\n```javascript\nfunction $initHighlight(block, cls) {\n  try {\n    if (cls.search(/\\bno\\-highlight\\b/) != -1)\n      return process(block, true, 0x0F) +\n             ` class="${cls}"`;\n  } catch (e) {\n    /* handle exception */\n  }\n  for (var i = 0 / 2; i < classes.length; i++) {\n    if (checkCondition(classes[i]) === undefined)\n      console.log(\'undefined\');\n  }\n\n  return (\n    <div>\n      <web-component>{block}</web-component>\n    </div>\n  )\n}\n\nexport  $initHighlight;\n```\n'})))};const __namedExportsOrder=["MarkdownToPdf"]}}]);